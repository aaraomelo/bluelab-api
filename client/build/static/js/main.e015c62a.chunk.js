(this["webpackJsonpbluelab-app"]=this["webpackJsonpbluelab-app"]||[]).push([[0],{38:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(15),s=n.n(c),a=(n(38),n(3)),u=n.n(a),o=n(6),i=n(5),l=n(1),j=function(e){var t=e.user,n=e.removeUser,c=Object(i.c)(),s=r.useCallback(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,n(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,n]);return Object(l.jsxs)("div",{className:"User",children:[Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"".concat(t.nome," ").concat(t.sobrenome)})}),Object(l.jsx)("button",{onClick:function(){return s(t)},children:"Delete"})]})},p=n(9),b=n(2),d=n(12),f=function(e){var t=e.saveUser,n=r.useState(),c=Object(d.a)(n,2),s=c[0],a=c[1],u=function(e){a(Object(b.a)(Object(b.a)({},s),{},Object(p.a)({},e.currentTarget.id,e.currentTarget.value)))};return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},className:"Add-user",children:[Object(l.jsx)("input",{type:"text",id:"nome",placeholder:"Nome",onChange:u}),Object(l.jsx)("input",{type:"text",id:"sobrenome",placeholder:"Sobrenome",onChange:u}),Object(l.jsx)("input",{type:"text",id:"telefone",placeholder:"Telefone",onChange:u}),Object(l.jsx)("input",{type:"text",id:"cpf",placeholder:"cpf",onChange:u}),Object(l.jsx)("button",{disabled:void 0===s,children:"Adcionar"})]})},h=function(e){var t=e.message;return Object(l.jsx)("div",{className:"Error",style:{backgroundColor:t.success?"yellowgreen":"#e06a6a"},children:Object(l.jsx)("div",{children:t.msg.map((function(e){return Object(l.jsx)("h2",{children:e},e)}))})})},O=function(e){var t=e.searchUser,n=r.useState(),c=Object(d.a)(n,2),s=c[0],a=c[1],u=Object(i.d)((function(e){return e.userFound}),i.b);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},className:"Add-user",children:[Object(l.jsx)("input",{type:"text",id:"cpf",placeholder:"CPF",onChange:function(e){a(Object(b.a)(Object(b.a)({},s),{},Object(p.a)({},e.currentTarget.id,e.currentTarget.value)))}}),Object(l.jsx)("button",{disabled:void 0===s,children:"Buscar"})]}),Object(l.jsx)("div",{className:"User",children:Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"".concat(u.nome," ").concat(u.sobrenome)})})})]})},m=n(7),v="LOAD_USERS",x="ADD_USER",g="REMOVE_USER",y="REMOVE_USER_ERROR",U="ADD_USERS_ERROR",w="AUTH_USER",k="AUTH_USER_ERROR",R="FIND_USER",C="FIND_USER_ERROR",S="https://bluelabapp.herokuapp.com/",E="api/v1",A=n(10),P=n.n(A),D=n(16),_=n(31),T=n(32),F={users:[],message:{success:!0,msg:[]},auth:!1,token:"",userFound:{nome:"",sobrenome:"",telefone:"",cpf:""}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return localStorage.setItem("token",t.token),Object(b.a)(Object(b.a)({},e),{},{auth:!0,token:t.token,message:{success:!0,msg:["Autenticado com sucesso!"]}});case v:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case x:var n={nome:t.user.nome,sobrenome:t.user.sobrenome,telefone:t.user.telefone,cpf:t.user.cpf};return Object(b.a)(Object(b.a)({},e),{},{users:e.users.concat(n),message:{success:!0,msg:["Usu\xe1rio cadastrado com sucesso!"]}});case U:case k:return Object(b.a)(Object(b.a)({},e),{},{message:t.message});case g:var r=e.users.filter((function(e){return e.cpf!==t.user.cpf}));return Object(b.a)(Object(b.a)({},e),{},{users:r,message:{success:!0,msg:["Usu\xe1rio removido com sucesso!"]}});case y:return Object(b.a)(Object(b.a)({},e),{},{message:t.message});case R:return Object(b.a)(Object(b.a)({},e),{},{userFound:t.user,message:{success:!0,msg:["Usu\xe1rio encontrado!"]}});case C:return Object(b.a)(Object(b.a)({},e),{},{message:t.message})}return e},B=n(33),I=n.n(B),z=Object(D.createStore)(N,Object(_.composeWithDevTools)(Object(D.applyMiddleware)(I.a,T.a))),M={Authorization:function(){return{Authorization:"Bearer ".concat(z.getState().token)}},url:"".concat(S).concat(E,"/users"),getAllUsers:function(){return P.a.get(this.url).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data.message)}))},addUser:function(e){return P.a.post(this.url,e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data)}))},removeUser:function(e){return P.a.delete("".concat(this.url,"/").concat(e),{data:{},headers:Object(b.a)({},this.Authorization())}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data)}))},findUser:function(e){return P.a.get("".concat(this.url,"/").concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data)}))}},L={url:"".concat(S).concat(E,"/auth"),login:function(e){return P.a.post("".concat(this.url,"/login"),e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data)}))}};function H(){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAllUsers();case 2:return t=e.sent,n={type:v,users:t},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.addUser(t).then((function(){return{type:x,user:t}})).catch((function(e){return{type:U,message:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return G.apply(this,arguments)}function G(){return(G=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.removeUser(t.cpf).then((function(){return{type:g,user:t}})).catch((function(){return{type:y,message:{success:!1,msg:["\xc9 necess\xe1rio autenticar!"]}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.login(t).then((function(e){return{type:w,token:e.token}})).catch((function(){return{type:k,message:{success:!1,msg:["N\xe3o autorizado"]}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.findUser(t.cpf).then((function(e){return{type:R,user:e.msg.user}})).catch((function(e){return console.log(e),{type:C,message:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(78);var Z=function(e){var t=e.authUser,n=r.useState(),c=Object(d.a)(n,2),s=c[0],a=c[1],u=function(e){a(Object(b.a)(Object(b.a)({},s),{},Object(p.a)({},e.currentTarget.id,e.currentTarget.value)))};return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},className:"Add-user",children:[Object(l.jsx)("input",{type:"text",id:"cpf",placeholder:"CPF",onChange:u}),Object(l.jsx)("input",{type:"text",id:"telefone",placeholder:"telefone",onChange:u}),Object(l.jsx)("button",{disabled:void 0===s,children:"Autenticar"})]})},$=function(){var e=Object(i.d)((function(e){return e.users}),i.b),t=Object(i.d)((function(e){return e.message}),i.b),n=Object(i.c)(),c=r.useCallback(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,V(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),s=r.useCallback(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,K(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),a=r.useCallback(function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,X(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return r.useEffect((function(){Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,H();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}),[n]),Object(l.jsx)("main",{children:Object(l.jsx)(m.Container,{children:Object(l.jsxs)(m.Row,{children:[Object(l.jsxs)(m.Row,{children:[Object(l.jsxs)(m.Col,{children:[Object(l.jsx)("h1",{children:"Adicione um usu\xe1rio"}),Object(l.jsx)(f,{saveUser:c})]}),Object(l.jsxs)(m.Col,{children:[Object(l.jsx)("h1",{children:"Usu\xe1rios adicionados"}),e.map((function(e){return Object(l.jsx)(j,{user:e,removeUser:W},e.cpf)}))]})]}),Object(l.jsxs)(m.Row,{children:[Object(l.jsxs)(m.Col,{children:[Object(l.jsx)("h1",{children:"Autentica\xe7\xe3o"}),Object(l.jsx)(Z,{authUser:s})]}),Object(l.jsxs)(m.Col,{children:[Object(l.jsx)("h1",{children:"Busque um usu\xe1rio"}),Object(l.jsx)(O,{searchUser:a})]})]}),Object(l.jsx)(m.Row,{children:Object(l.jsxs)(m.Col,{children:[Object(l.jsx)("h1",{children:"Menssagens"}),Object(l.jsx)(h,{message:t})]})})]})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};s.a.render(Object(l.jsx)(i.a,{store:z,children:Object(l.jsx)($,{})}),document.getElementById("root")),ee()}},[[79,1,2]]]);
//# sourceMappingURL=main.e015c62a.chunk.js.map